đây là function 2 sau khi đã được sửa lại
